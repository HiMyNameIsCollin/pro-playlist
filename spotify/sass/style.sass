$green: #1DB954
$lightGreen: #1ed764
$white: #FFFFFF
$black: #191414
$grey: #535353
$lightGrey: #b3b3b3
$darkGrey: #212121

$bg__1--sm: url('../public/bgsm.jpg')
$bg__1--lg: url('../public/bglg.jpg')

\:root
    --headerBackground: ''
    --headerHeight: 0

@mixin opacTransition
    opacity: 0
    transition: opacity .75s ease-in-out
    &--active
        opacity: 1
@mixin shadowA
    box-shadow: rgb(38, 57, 77) 0px 20px 30px -10px
@mixin overlay
    position: relative
    overflow: hidden
    z-index: 1
    &::before
        content: ''
        top: 0
        left: 0
        height: 100%
        position: absolute
        width: 100%
        z-index: -1
    &::after
        content: ''
        top: 0
        left: 0
        height: 100%
        position: absolute
        width: 100%
        z-index: -2

@mixin sectionTitle
    align-items: flex-end
    color: $white
    display: flex
    padding: 1rem 0
    span
        font-weight: 700
        font-size: 0.8rem
        margin-left: auto

@mixin scrimGradient($startColor: $grey, $direction: 'to bottom') 

  $scrimCoordinates: ( 0: 1, 19: 0.738, 34: 0.541, 47: 0.382, 56.5: 0.278, 65: 0.194, 73: 0.126, 80.2: 0.075, 86.1: 0.042, 91: 0.021, 95.2: 0.008, 98.2: 0.002, 100: 0)

  $hue: hue($startColor)
  $saturation: saturation($startColor)
  $lightness: lightness($startColor)
  $stops: ()

  @each $colorStop, $alphaValue in $scrimCoordinates 
    $stop: hsla($hue, $saturation, $lightness, $alphaValue) percentage($colorStop/100)
    $stops: append($stops, $stop, comma)
  background: linear-gradient(unquote($direction), $stops)
    
@mixin artistDisplay 
    align-items: center
    display: flex
    flex-wrap: wrap
    padding: 0 1rem
    img
        border-radius: 50%
        margin-right: 1rem 
    p
        font-weight: 700
    
*
    margin: 0
    padding: 0
    box-sizing: border-box
    line-height: 1.6
    scroll-behavior: smooth
    -webkit-scroll-behavior: smooth

button, input[type="submit"], input[type="reset"]
    background: none
    color: inherit
    border: none
    padding: 0
    font: inherit
    cursor: pointer
    outline: inherit
    &:focus
        background: none
        transform: none
        outline: none
body
    background: $black
    font-family: 'Rubik', sans-serif
    max-width: 100vw
a
    color: inherit
    text-decoration: none

.noScroll
    overflow: hidden

.container
    background-image: $bg__1--sm
    background-position: center center
    background-size: cover
    background-attachment: fixed
    display: flex
    justify-content: center
    align-items: center
    min-height: 100vh
    min-width: 100vw
    max-width: 100vw
    &--overlay
        @include overlay
        &::before
            background: $lightGrey
            opacity: 0.8

.dashboard
    @include overlay

    display: flex
    min-height: 100vh
    min-width: 100vw
    flex-direction: column
    width: 100%

    &::before
        background: $darkGrey
        opacity: 0.9


.homeHeader, .nav__item, .tab
    @include overlay
    &::before
        @include scrimGradient($grey, '135deg')
        opacity: .7
    background: $darkGrey
    color: $white


.login
    display: flex
    &__card
        @include shadowA
        background: $darkGrey
        border: $black 2px solid
        color: $white
        margin: auto
        padding: 2rem
        position: relative
    &__brand
        margin: 2rem 0 4rem 0
        position: relative
        &::before
            content: 'Unofficial'
            left: 0rem
            top: -1.25rem
            font-size: 1rem
            position: absolute
        &::after
            content: 'By Collin Stone'
            right: 0rem
            bottom: -1.25rem
            font-size: 1rem
            position: absolute
    &__icon
        background: inherit
        border-radius: 50%
        margin: auto
        position: absolute
        top: -2rem
        left: calc((100% - 64px) / 2)
        width: 4rem
        img
            object-fit: cover
    &__btn
        border: none
        border-radius: 40px
        background: $green
        color: $white
        cursor: pointer
        display: block
        font-weight: 700
        margin: 0 auto 2rem auto
        padding: 1rem 
        width: 100%
        -webkit-appearance: none
        &:focus
            outline: none
    p
        color: $white
        font-weight: 700
        text-align: end
        padding: 0 .5rem
    &__logo
        background: $darkGrey
        margin: auto
        min-height: 64px
        position: relative
        width: 192px
 
.page
    min-height: 100vh
    min-width: 100vw
   
    &--bg
        @include overlay
        background: $darkGrey
        padding: 10rem .5rem 0 .5rem
        &::before
            @include scrimGradient($grey, '135deg')
            opacity: .7
    &--home
         padding: 8rem .5rem 0 .5rem
    &--collection
        background: $black
        color: $white
        padding-top: var(--headerHeight)
        .slider
            margin: 0 1rem
    &--artist
        background: $black
        color: $white
        padding: var(--headerHeight) .5rem 0 .5rem
    &--blurred
        filter: blur(5px)
    section:nth-last-of-type(1)
        padding-bottom: 4rem

.collection
    > *
            margin-bottom: 1rem
    &__trackContainer
        padding-top: 1rem        
    &__meta
        color: $white
        font-size: 0.8rem
        padding: 0 .5rem
        span:nth-of-type(1)
            padding-right: .5rem
        span:nth-of-type(2)
            padding-left: .5rem
        &__artists
            @include artistDisplay
            padding: 1rem 0 0 0 
    .recommendations
        padding: 0 1rem
    &__copyright
        font-size: .8rem
        padding: 1rem

.trackContainer
    opacity: 0
    transition: opacity .75s ease-in-out
    &--active
        opacity: 1

.artist
    &__trackContainer
        .track
            grid-template-columns: auto auto minmax(0, 1fr) auto
            grid-template-rows: 1fr 1fr
            h5
                grid-column: 3/4
                
            span
                grid-column: 3/4
            i
                grid-column: 4/5
            &__imgContainer
                align-self: center
                display: flex
                grid-column: 2/3
                grid-row: 1/3
                height: 2.5rem
                margin-right: 1rem
                width: 2.5rem
                img
                    height: 100%
                    width: 100%
            p
                align-self: center
                font-size: .8rem
                grid-column: 1/2
                grid-row: 1/3
                padding-right: 1rem
        h4
            padding: 1rem .5rem

.track
    align-items: flex-start
    display: grid
    grid-template-columns: minmax(0, 1fr) auto
    grid-template-rows: 1fr 1fr
    padding: .5rem 
    h5
        grid-column: 1/2
        grid-row: 1/2
        font-weight: 700
        overflow: hidden
        text-overflow: ellipsis
        white-space: nowrap
        width: 100%
    span
        color: $lightGrey
        grid-column: 1/2
        grid-row: 2/3
        font-size: 0.8rem
        padding-right: 1rem
        overflow: hidden
        text-overflow: ellipsis
        white-space: nowrap
    i
        font-size: 2rem
        grid-column: 2/3
        grid-row: 1/3
.artistHeader
    left: 0
    padding-bottom: 20rem
    position: absolute
    opacity: 0
    top: 0
    transition: opacity .75s ease-in-out
    width: 100%
    z-index: 1
    &__imgContainer
        @include overlay
        height: 100%
        position: relative
        top: 0
        overflow: hidden
        padding: 0
        width: 100%
        z-index: -1
        img
            display: block
            height: auto
            width: 100%
            object-fit: contain
        &::before
            @include scrimGradient($black ,'to top')
            z-index: 1          
    h1
        color: $white
        padding: 1rem
        flex-grow: 0
        font-size: clamp(2rem, 10vw, 3rem)
        position: absolute
        bottom: 0
        left: 0
        line-height: 40px
        z-index: 1
    &--active
        opacity: 1
        
.collectionHeader
    color: $white
    position: absolute
    top: 0
    left: 0
    opacity: 0
    transition: opacity .75s ease-in-out
    transform-origin: top left
    width: 100%
    z-index: 2
    h1
        padding: 0 1rem
    > *
        margin-bottom: 1rem
    &__imgContainer
        align-items: center
        display: flex
        justify-content: center
        position: relative
        padding: 2rem 1rem 1rem 1rem
        div
            img
                display: block
                height: 200px
                max-width: 100%
                margin: auto
    &__info
        color: $lightGrey
        font-size: 0.8rem
        font-weight: 700
        padding: 0 1rem
        p
            color: $white
            font-weight: 400
        i
            padding: 0 .5rem
    &__artists
        @include artistDisplay
        @media only screen and (min-width: 920px)
        &::after
            background-size: cover
    &--active
        opacity: 1
    &::before
        

.headerBacking
    @include overlay
    background-image: var(--headerBackground)
    background-size: cover
    background-position: 50% 50%
    min-height: var(--headerHeight)
    position: absolute
    opacity: 0
    overflow: hidden
    top: 0
    transition: opacity .75s ease-in-out
    left: 0
    width: 100%
    z-index: 1
    &--active
        opacity: 1
    &::before
        @include scrimGradient($black, 'to top')
        z-index: -1
    &::after
        background: linear-gradient(to bottom, var(--headerColor1) 0% , var(--headerColor0)), linear-gradient(to right, var(--headerColor1) , var(--headerColor0))
        opacity: .75
        z-index: -2

.fixedHeader
    @include overlay
    @include shadowA
    background: linear-gradient(to bottom, var(--headerColor1) 0% , var(--headerColor0)), linear-gradient(to right, var(--headerColor1) , var(--headerColor0))
    color: $white
    font-size: 1rem
    position: fixed 
    top: 0 
    left: 0
    padding: 1rem
    text-align: center
    width: 100%
    z-index: 2
    h1
        font-size: 1rem
    &::before
        @include scrimGradient($black, 'to top')
        z-index: -1
        
.homeHeader
    align-items: center
    display: flex
    top: 1rem
    right: 0
    padding: 2rem 1rem
    position: fixed
    width: calc(100% - 1rem)
    will-change: transform
    z-index: 2
    &__title
        margin: auto auto auto 1rem
    &__logo
        max-height: 32px
        max-width: 32px
      
        
.searchHeader
    @include overlay
    background: $black
    display: flex
    flex-wrap: wrap
    top: 0
    left: 0
    padding: 1rem 1rem
    position: fixed
    width: 100%
    will-change: transform
    z-index: 2
    &::before
        @include scrimGradient($grey, '135deg')
        opacity: .7
    &__title
        @include sectionTitle
        font-size: 2rem
        width: 100%
    &__search
        align-items: center
        background: $white
        border-radius: 10px
        display: flex
        padding: .5rem
        width: 100%
        i
            padding: 0 .5rem
        input
            background: inherit
            border: none
            font-weight: 700
            width: stretch
            &:focus
                outline: none
            &::placeholder
                color: $black
            
.nav
    display: flex
    justify-content: center
    position: fixed
    bottom: 0
    left: 0
    width: 100%
    z-index: 2
    &__list
        display: flex
        justify-content: center
        list-style: none
        margin: auto 
        width: 100%
        li
            width: 33.3%
    &__item
        align-items: center
        border-right: 2px solid $lightGrey
        display: flex
        flex-direction: column
        font-size: .7rem
        justify-content: center
        i
            font-size: 1.5rem
            margin: .25rem 0
        &--active
            pointer-events: none
        &:nth-last-of-type(1)
            border: none

.tabsContainer
    align-items: center
    display: flex
    flex-wrap: wrap
    justify-content: space-between
    min-height: 12rem
    &__title
        flex: 1 0 100%
        @include sectionTitle
    
.tab
    align-items: center
    border-radius: 5px
    display: flex 
    margin: .25rem 0
    width: calc(50% - .5rem)
    &__title
        display: -webkit-box
        line-height: normal
        overflow: hidden
        padding: 0 .5rem
        -webkit-line-clamp: 2
        -webkit-box-orient: vertical
    &__image
        height: 3rem
        min-width: 3rem
        max-width: 3rem
        img
            height: 100%
            object-fit: cover
            width: 100%

.slider
    &__title
        @include sectionTitle
    &__carousel
        display: flex
        overflow-y: hidden
        overflow-x: scroll
        
        position: relative
        width: auto
    &__card
        flex: 0 0 auto
        margin: 0 .5rem
        width: min(60vw, 10rem)
        &:nth-of-type(1)
            margin-left: 0

.browseContainer
    display: grid
    grid-template-columns: repeat( 2, Min( 320px, calc(50vw - 1rem)) )
    grid-gap: 1rem
    justify-content: space-between
    &__title
        grid-column: 1/-1
        @include sectionTitle
    &__card
        margin: auto
        width: 100%
        &__title
            white-space: nowrap
            overflow: hidden
            text-overflow: ellipsis
    @media only screen and (min-width: 768px)
        grid-template-columns: repeat(auto-fill, 10rem)


.card
    color: $white
    min-height: 12rem
    position: relative
    &__title
        padding: .5rem 0
    &__image
        display: flex
        height: 10rem
        position: relative
        width: 100%
        img
            display: block
            height: auto
            max-width: 100%
            width: 100%
            object-fit: fill

.loading
    align-items: center
    background: $black
    display: flex
    justify-content: center
    top: 0
    left: 0
    min-height: 100vh
    max-height: 100vh
    position: fixed
    min-width: 100vw
    max-width: 100vw
    z-index: 999

.overlay
    @include overlay
    display: flex
    min-height: 100vh
    position: fixed
    width: 100%
    z-index: 3
    &::before
        @include scrimGradient( $grey, '135deg')
        opacity: 0.9
    &::after
        background: linear-gradient(180deg, rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.8 ), rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.5 ))

.popup
    align-self: flex-end
    color: $white
    overflow-y: auto
    width: 100%
    &__listMenu, &__trackMenu
        padding: 1rem
        button
            align-items: center
            display: flex
            justify-content: space-between
            padding: 1rem 0 
            width: 100%
            span
                font-weight: 700
            i
                font-size: 2rem
    &__trackMenu
        button
            justify-content: flex-start
            span
                padding-left: 1rem
                

        

@media only screen and (min-width: 768px)
    .login
        padding: 4rem 4rem 2rem 4rem

@media only screen and (min-width: 1536px)
    .container
        background-image: $bg__1--lg

